<!DOCTYPE html>
<html>
 
	<head> 
	<title>Page Title</title> 
	
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> 

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
			<script src="js/jstorage.js"></script>
			
			
	
</head>

  <body>
  
	<section id="home" data-role="page" data-theme="a">
		<div data-role="header" data-position="fixed">
            <div data-role="navbar">
				<ul>
					<li><a href="#home">Home</a></li>
					<li><a href="#form">Form</a></li>
				</ul>
			 </div>		
		</div> 
		
		<div data-role="content">		

				<p id="count"></p>
		</div>
		
		<div data-role="footer" data-position="fixed">
            <div data-role="navbar">
				<ul>
					<li><a href="#home">Home</a></li>
					<li><a href="#form">Form</a></li>
				</ul>
			 </div>		
		</div> 
		
	</section>
	
	
	<section id="form" data-role="page" data-theme="a">
		<div data-role="header" data-position="fixed">
            <div data-role="navbar">
				<ul>
					<li><a href="#home">Home</a></li>
					<li><a href="#form">Form</a></li>
				</ul>
			 </div>		
		</div> 	
			<!--	<form name="myForm" action="" onsubmit="return fForm();"  data-ajax="false" >
					  <fieldset data-role="controlgroup" data-mini="true">
						<legend>Buttons</legend>
						  <label for="checkbutton1">Show Button 1</label>
						  <input type="checkbox" name="checkbutton1" id="checkbutton1" value="checkbutton1" data-theme="b">
						  <label for="checkbutton2">Show Button 2</label>
						  <input type="checkbox" name="checkbutton2" id="checkbutton2" value="checkbutton2" data-theme="b">
					  </fieldset>			  
					  <fieldset data-role="controlgroup">				
							<input type="submit" value="Submit"  id="submit" data-role="button" data-theme="c">
					  </fieldset>					  	
				</form>
			-->	
		<div data-role="content">	
			<a href="#" id="onoff" data-role="button" data-transition="none"  onclick="fButtonChange()">&nbsp </a>
			<a href="#anylink"  id="button1" data-role="button" data-theme="b">button1</a>	
			<a href="#anylink"  id="button2" data-role="button" data-theme="b">button2</a>
   </div>

		
		<div data-role="footer" data-position="fixed">
            <div data-role="navbar">
				<ul>
					<li><a href="#home">Home</a></li>
					<li><a href="#form">Form</a></li>
				</ul>
			 </div>		
		</div> 	
	</section>
	
	<script type="text/javascript">
	
	/*	function fForm() {
	
		if (document.myForm.checkbutton1.checked == true){
			if ($.jStorage.get("button1") == null)
			$.jStorage.set("button1", "true");
		} else { $.jStorage.deleteKey("button1"); }
		
		if (document.myForm.checkbutton2.checked == true){
			if ($.jStorage.get("button2") == null)
			$.jStorage.set("button2", "true");
		} else {$.jStorage.deleteKey("button2");}
	
		alert("submitted");
		return false;
	} */
	
	function fButtonChange() {
		if ($.jStorage.get("button1") == null){
			$.jStorage.set("button1", "true");
		} else { $.jStorage.deleteKey("button1"); }
	
		if ($.jStorage.get("button2") == null){
			$.jStorage.set("button2", "true");
		} else {$.jStorage.deleteKey("button2");}
	}
	
	$.jStorage.listenKeyChange("button1", function(){
    	if ($.jStorage.get("button1")){
			$("#onoff").text("ON");
		 } else {
			$("#onoff").text("OFF");
		 }
		 
    	if ($.jStorage.get("button1")){
			$("#button1").show();
		 } else {
			$("#button1").hide();
		 }
		 
		 if ($.jStorage.get("button2")){
			$("#button2").show();
		 } else {
			$("#button2").hide();
		 }
	});
	
	  $(function (){
	  
	   
	   
	  });

	/*	if ($.jStorage.get("button1")){
			$("#button1").show();
		 } else {
			$("#button1").hide();
		 }
		 


		 if ($.jStorage.get("button2")){
			$("#button2").show();
		 } else {
			$("#button2").hide();
		 }
		 
		 $("#count").html(dugmad() +"  "+ $.jStorage.storageSize());
    });
	
	function dugmad () {
		var buttons = ["button1", "button2"];
		var i = 0;
		var buttons_count = 0;
		 for (i=0; i < buttons.length; i++){
			if ($.jStorage.get(buttons[i]) != undefined){
			buttons_count = buttons_count + 1;
			}
		 }
		 return buttons_count;
	}
	
	function index () {
		var index = $.jStorage.index();
	}
	

	
	function sync(){
	$.jStorage.publish("sync-textarea", $("data").value);
	}
	$.jStorage.subscribe("sync-textarea", function(channel, data){
		$("data").value = data;
	}); */
		</script>	
	
  </body>
  
 </html> 